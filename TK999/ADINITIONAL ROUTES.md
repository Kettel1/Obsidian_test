Что нужно сделать:
1. Механизм нотификаций (уведомлений)
2. Механизм согласований
3. Дополнительные рейсы

**Будет следующий воркфлоу:**
#### **Уведомления для диспетчеров**
- **Когда отправляется уведомление:**
    - Если рейс заполнен на 100%, начиная с текущей даты и в течение следующих 30 дней.
- **Что содержит уведомление:**
    - Маршрут, дата и время.

После получения уведомления **диспетчер**:

1. Создает согласование на дополнительный рейс.
2. Выбирает ответственных лиц (одного или нескольких из заранее определенного списка).
3. Указывает тип согласования и заполняет поля в зависимости от типа.
#### **2. Создание согласования**

**Обязательные поля согласования для доп. рейса:**
1. Номер рейса.
2. Дата рейса.
3. Машина.
4. Список ответственных лиц.

**Процесс согласования:**
1. Ответственные лица получают **СМС-уведомление** о необходимости согласования.
2. Ответственные лица заходят в дашборд, открывают раздел "Согласования" и видят:
    - Актуальные согласования.
    - Кто создал согласование.
    - Детали согласования.
####  **3. Действия ответственных лиц**
1. Ответственное лицо может:
    - Изменить параметры рейса (например, машину).
    - Принять или отклонить согласование.
2. **Если отклонено:**
    - Указывается причина отказа (опционально).
    - Согласование перемещается в историю.
3. **Если принято:**
    - Выполняется указанное в согласовании действие (например, создание дополнительного рейса).

### **Изменения в системе**
1. **Новые вкладки в админ-панели:**
    - **"Уведомления"**: содержит различные уведомления.
    - **"Дополнительные рейсы"**: история и текущие данные о дополнительных рейсах.
    - **"Согласования"**: история и активные согласования.
2. **Электронная ведомость:**
    - Дополнительные рейсы помечаются плашкой "Дополнительный рейс".
    - При создании эл. ведомости будет возможность выбрать "Дополнительный рейс" 
3. **Работа с билетами:**
    - В разделе "Все билеты" для маршрута с доп. рейсом появится выпадающий список:
        - "Основной рейс" или "Дополнительный рейс".
    - При создании билета диспетчер/кассир выбирает, на какой рейс оформляется билет "Основной рейс" или "Дополнительный рейс".
4. **Логика для клиентов:**    
    - Если основной рейс заполнен, продажи автоматически переходят на доп. рейс.
    - Клиент видит небольшую пометку, что рейс является дополнительным.
    - **Выбор рейса на клиентской части недоступен.**


**Вопросы**
1) **Может ли доп. рейс быть отменен?**
    - Если да, кто принимает решение об отмене и что делать с купленными билетами?
    - Кто может инициировать отмену рейса?
2) **Если доп. рейс заполнен менее чем на X%:**
    - Должен ли он состояться?
    - Пример: продан только 1 билет.
3) **Нужна ли возможность перемещать билеты между рейсами:**
    - Например, с доп. рейса на основной и наоборот.
4) **Сколько может быть дополнительных рейсов:**
    - Только один или их может быть несколько на одну дату/маршрут?
5) **Есть ли крайний срок для согласования?**
    - Если срок нарушен, согласование автоматически отменяется?
- **Может ли диспетчер редактировать уже созданное согласование?**
- **Параметры дополнительного рейса:**
    - Должен ли он унаследовать все параметры основного (остановки, время, цену) за исключением машины?
